# FastAPI X User Tracking

A FastAPI-based application designed for tracking user activity. The project is containerized using Docker and leverages TimescaleDB (a time-series database built on PostgreSQL) to store and manage data. This setup makes it easy to deploy, scale, and manage the application in various environments.

## Table of Contents

- [Overview](#overview)
- [Features](#features)
- [Project Structure](#project-structure)
- [Prerequisites](#prerequisites)
- [Installation and Setup](#installation-and-setup)
- [Docker & Docker Compose](#docker--docker-compose)
- [Usage](#usage)


## Overview

FastAPI X User Tracking is an application built with [FastAPI](https://fastapi.tiangolo.com/) that enables you to record and track user events. It is designed with performance and scalability in mind. With Docker and TimescaleDB integration, you get a fully containerized and production-ready solution for handling time-series data related to user interactions.

## Features

- **User Tracking**: Record and log user events or interactions.
- **API Endpoints**: Leverage FastAPI for fast, asynchronous RESTful API endpoints.
- **Database Integration**: Uses [TimescaleDB](https://www.timescale.com/) as the backend database to manage time-series data efficiently.
- **Containerized Deployment**: Easily deploy the application using Docker and Docker Compose.
- **Live Reload (Development Mode)**: Hot-reload enabled via Uvicorn for rapid development iterations.

## Project Structure

```
fastapi_X_userTracking/
├── boot/
│   └── docker-run.sh         # Startup script for container runtime
├── src/
│   └── ...                   # Application source code (API endpoints, models, etc.)
├── .env.compose              # Environment variable definitions for Docker Compose
├── Dockerfile                # Instructions to build the FastAPI app container
├── docker-compose.yml        # Docker Compose file defining services and network
└── requirements.txt          # Python dependencies list
```

## Prerequisites

Before you start, make sure you have the following software installed:

- [Docker](https://www.docker.com/) (version 20.10 or later)
- [Docker Compose](https://docs.docker.com/compose/) (version 1.29 or later)
- *(Optional)* [Python 3.13+](https://www.python.org/) if you plan to run the application locally outside Docker

## Installation and Setup

1. **Clone the Repository**

   ```bash
   git clone https://github.com/yagyagoel1/fastapi_X_userTracking.git
   cd fastapi_X_userTracking
   ```

2. **Configure Environment Variables**

   The file `.env.compose` is used to set environment variables for the Docker Compose setup. Ensure that it has the correct values; for example:

   ```env
   PORT=8002
   DATABASE_URL=postgresql+psycopg://time-user:time-pw@db_service:5432/timescaledb
   ```

3. **Build and Run with Docker Compose**

   Use Docker Compose to build the containers and start the services:

   ```bash
   docker-compose up --build
   ```

## Docker & Docker Compose

The project is containerized into two main services defined in the `docker-compose.yml` file:

- **app**:  
  - **Image:** Built from the provided `Dockerfile`.
  - **Port Mapping:** Maps port `8002` (container) to `8002` (host).
  - **Command:** Runs the FastAPI application using Uvicorn with hot-reload enabled.
  - **Volume Mount:** The `src` directory is mounted, which helps with live updates during development.

- **db_service**:  
  - **Image:** Uses the official TimescaleDB image (based on PostgreSQL).
  - **Database Credentials:**  
    - **User:** `time-user`  
    - **Password:** `time-pw`  
    - **Database:** `timescaledb`
  - **Port Mapping:** Exposes port `5432` for database access.

This configuration provides a seamless development experience and can be adapted for production deployments by adjusting environment variables or Docker Compose settings.

## Usage

Once the containers are running:

1. **Access the FastAPI Application:**

   Open your browser and navigate to [http://localhost:8002](http://localhost:8002). You should see the FastAPI documentation (automatically generated by FastAPI) available via the OpenAPI docs at `/docs` or `/redoc`.

2. **API Endpoints:**

   The `src` folder contains the FastAPI routes for tracking user activity. You can add or modify endpoints as needed.

3. **Stopping the Services:**

   Use `Ctrl+C` in the terminal running Docker Compose to stop the containers, then clean up with:

   ```bash
   docker-compose down
   ```

## Environment Variables

The configuration uses environment variables stored in `.env.compose` to manage settings. Key variables include:

- **PORT:** Port number on which the FastAPI app runs.
- **DATABASE_URL:** Connection string for TimescaleDB.  
  Example:
  ```env
  DATABASE_URL=postgresql+psycopg://time-user:time-pw@db_service:5432/timescaledb
  ```

Make sure these variables are correctly set for your local or production environment.
olid starting point for users and developers alike. Adjust and expand as your project evolves.
